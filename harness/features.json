{
  "project": "100-times-ai-heroes-ollama",
  "description": "Ollama版キャラクター生成システム",
  "last_updated": "2026-02-11",
  "features": [
    {
      "id": "ENV001",
      "category": "environment",
      "name": "環境変数読み込み",
      "description": ".envファイルからOLLAMA_MODEL, OLLAMA_HOST, SHEET_URL, CREDENTIALS_PATHを読み込む",
      "passes": true,
      "test": "test_config_from_env"
    },
    {
      "id": "ENV002",
      "category": "environment",
      "name": "設定デフォルト値",
      "description": "環境変数未設定時にgpt-oss-20b, localhost:11434をデフォルト使用",
      "passes": true,
      "test": "test_config_defaults"
    },
    {
      "id": "OLL001",
      "category": "ollama",
      "name": "Ollamaサーバー接続",
      "description": "Ollamaサーバーへの接続確立",
      "passes": true,
      "test": "test_ollama_connection"
    },
    {
      "id": "OLL002",
      "category": "ollama",
      "name": "モデル存在確認",
      "description": "指定モデルの存在確認、なければpull",
      "passes": false,
      "test": "test_model_availability"
    },
    {
      "id": "OLL003",
      "category": "ollama",
      "name": "推論実行",
      "description": "プロンプトを送信し応答を取得",
      "passes": false,
      "test": "test_inference_basic"
    },
    {
      "id": "OLL004",
      "category": "ollama",
      "name": "リトライ機能",
      "description": "エラー時に指数バックオフでリトライ",
      "passes": true,
      "test": "test_inference_retry"
    },
    {
      "id": "OLL005",
      "category": "ollama",
      "name": "タイムアウト処理",
      "description": "120秒でタイムアウト",
      "passes": true,
      "test": "test_inference_timeout"
    },
    {
      "id": "SHT001",
      "category": "sheets",
      "name": "Google認証",
      "description": "サービスアカウントでGoogle Sheets APIに認証",
      "passes": false,
      "test": "test_sheets_auth"
    },
    {
      "id": "SHT002",
      "category": "sheets",
      "name": "スプレッドシート接続",
      "description": "URLからスプレッドシートを開く",
      "passes": false,
      "test": "test_sheets_open"
    },
    {
      "id": "SHT003",
      "category": "sheets",
      "name": "シート取得",
      "description": "Age, Gender, Species, Ability, Wants, Role, testシートを取得",
      "passes": false,
      "test": "test_sheets_worksheets"
    },
    {
      "id": "SHT004",
      "category": "sheets",
      "name": "ランダム属性取得",
      "description": "シートからランダムに1値を取得（ヘッダー除外）",
      "passes": false,
      "test": "test_sheets_random_attribute"
    },
    {
      "id": "SHT005",
      "category": "sheets",
      "name": "結果行追加",
      "description": "testシートに生成結果行を追加",
      "passes": false,
      "test": "test_sheets_append_output"
    },
    {
      "id": "SHT006",
      "category": "sheets",
      "name": "シード追加",
      "description": "Ability, Wants, Roleシートに新規シードを追加",
      "passes": false,
      "test": "test_sheets_append_seed"
    },
    {
      "id": "PRM001",
      "category": "prompts",
      "name": "CharacterConceptプロンプト",
      "description": "属性から英文キャラクター概要を生成するプロンプト",
      "passes": true,
      "test": "test_prompt_character_concept"
    },
    {
      "id": "PRM002",
      "category": "prompts",
      "name": "Nameプロンプト",
      "description": "キャラクター名を生成するプロンプト",
      "passes": true,
      "test": "test_prompt_name"
    },
    {
      "id": "PRM003",
      "category": "prompts",
      "name": "Profileプロンプト",
      "description": "日本語プロフィールを生成するプロンプト",
      "passes": true,
      "test": "test_prompt_profile"
    },
    {
      "id": "PRM004",
      "category": "prompts",
      "name": "Catchphraseプロンプト",
      "description": "日本語決め台詞を生成するプロンプト",
      "passes": true,
      "test": "test_prompt_catchphrase"
    },
    {
      "id": "PRM005",
      "category": "prompts",
      "name": "NewAbilityプロンプト",
      "description": "対キャラの能力を生成するプロンプト",
      "passes": true,
      "test": "test_prompt_new_ability"
    },
    {
      "id": "PRM006",
      "category": "prompts",
      "name": "NewWantsプロンプト",
      "description": "対キャラの願望を生成するプロンプト",
      "passes": true,
      "test": "test_prompt_new_wants"
    },
    {
      "id": "PRM007",
      "category": "prompts",
      "name": "NewRoleプロンプト",
      "description": "対キャラの役割を生成するプロンプト",
      "passes": true,
      "test": "test_prompt_new_role"
    },
    {
      "id": "GEN001",
      "category": "generation",
      "name": "ImagePrompt生成",
      "description": "固定テンプレートからImagePromptを構築",
      "passes": true,
      "test": "test_image_prompt_generation"
    },
    {
      "id": "GEN002",
      "category": "generation",
      "name": "単一キャラクター生成",
      "description": "1キャラクターの全属性を生成しシートに出力",
      "passes": false,
      "test": "test_single_character_generation"
    },
    {
      "id": "GEN003",
      "category": "generation",
      "name": "対キャラ属性生成",
      "description": "NewAbility, NewWants, NewRoleを生成しシードに追加",
      "passes": false,
      "test": "test_complementary_attributes"
    },
    {
      "id": "GEN004",
      "category": "generation",
      "name": "ループ実行",
      "description": "指定回数（デフォルト100）のキャラクター生成ループ",
      "passes": false,
      "test": "test_generation_loop"
    },
    {
      "id": "GEN005",
      "category": "generation",
      "name": "進捗表示",
      "description": "生成進捗をコンソールに表示",
      "passes": false,
      "test": "test_progress_display"
    },
    {
      "id": "ERR001",
      "category": "error",
      "name": "Ollama未起動エラー",
      "description": "サーバー未起動時に明確なエラーメッセージ",
      "passes": false,
      "test": "test_error_ollama_not_running"
    },
    {
      "id": "ERR002",
      "category": "error",
      "name": "認証エラー",
      "description": "credentials.json不正時に明確なエラーメッセージ",
      "passes": false,
      "test": "test_error_invalid_credentials"
    },
    {
      "id": "ERR003",
      "category": "error",
      "name": "シートエラー",
      "description": "シート未存在時に明確なエラーメッセージ",
      "passes": false,
      "test": "test_error_sheet_not_found"
    },
    {
      "id": "INT001",
      "category": "integration",
      "name": "E2E: 1キャラ生成",
      "description": "実環境で1キャラクター生成を完走",
      "passes": false,
      "test": "test_e2e_single_character"
    },
    {
      "id": "INT002",
      "category": "integration",
      "name": "E2E: 10キャラ生成",
      "description": "実環境で10キャラクター生成を完走",
      "passes": false,
      "test": "test_e2e_ten_characters"
    },
    {
      "id": "INT003",
      "category": "integration",
      "name": "E2E: 100キャラ生成",
      "description": "実環境で100キャラクター生成を完走",
      "passes": false,
      "test": "test_e2e_hundred_characters"
    }
  ]
}